
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PyMAPDL APDLMath Basic Operations &#8212; ansys.mapdl.core 0.57.6 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/ansys.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using APDLMath to solve Eigenproblems" href="eigen_solve.html" />
    <link rel="prev" title="Example Thermal Transient Analysis" href="../00-mapdl-examples/transient_thermal.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/pyansys-logo-black-cropped.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../getting_started/index.html">Getting Started</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../user_guide/index.html">User Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../api/index.html">API Reference</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">Examples</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../contributing.html">Contributing</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/pyansys/pymapdl-reader" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
        
        
        
        
          
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#create-and-manipulate-vectors" class="nav-link">Create and Manipulate Vectors</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#use-operators-on-vectors" class="nav-link">Use operators on vectors</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#methods" class="nav-link">Methods</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#perform-an-in-place-operations-without-copying-vectors" class="nav-link">Perform an in-place operations (without copying vectors)</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#working-with-dense-matrices" class="nav-link">Working with Dense Matrices</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#apdlmath-matrix" class="nav-link">APDLMath Matrix</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#numpy-methods-on-apdlmath-objects" class="nav-link">Numpy methods on APDLMath objects</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-01-apdlmath-examples-basic-operations-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="pymapdl-apdlmath-basic-operations">
<span id="ref-mapdl-math-basic"></span><span id="sphx-glr-examples-01-apdlmath-examples-basic-operations-py"></span><h1>PyMAPDL APDLMath Basic Operations<a class="headerlink" href="#pymapdl-apdlmath-basic-operations" title="Permalink to this headline">¶</a></h1>
<p>This tutorial shows how you can use pymapdl to use APDL math for basic
operations on APDLMath vectors and matrices in the APDL memory
workspace.</p>
<p>The <cite>ansys.mapdl.math</cite> submodule gives access to APDLMath features
inside PyMAPDL.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">ansys.mapdl.core</span> <span class="kn">import</span> <span class="n">launch_mapdl</span>

<span class="c1"># Start MAPDL as a service and create an APDLMath object.</span>
<span class="n">mapdl</span> <span class="o">=</span> <span class="n">launch_mapdl</span><span class="p">()</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">math</span>
</pre></div>
</div>
<div class="section" id="create-and-manipulate-vectors">
<h2>Create and Manipulate Vectors<a class="headerlink" href="#create-and-manipulate-vectors" title="Permalink to this headline">¶</a></h2>
<p>Create 2 APDLMath vectors of size 5. <span class="math notranslate nohighlight">\(\vec{v}\)</span> is initialized with
ones, $vec{w}$ is filled with random values</p>
<p>Corresponding APDLMath commands
- <cite>*VEC,V,D,ALLOC,5</cite>
- <cite>*INIT,V,CONST,1</cite>
- <cite>*VEC,W,D,ALLOC,5</cite>
- <cite>*INIT,W,RAND</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>UTHKWO :
 Size : 5
  4.170e-01   9.972e-01   7.203e-01   9.326e-01   1.144e-04      &lt;       5
</pre></div>
</div>
</div>
<div class="section" id="use-operators-on-vectors">
<h2>Use operators on vectors<a class="headerlink" href="#use-operators-on-vectors" title="Permalink to this headline">¶</a></h2>
<p>Just like <cite>numpy</cite> PyMAPDL APDLMath vectors can be have most of the
standard operators (e.g. <code class="docutils literal notranslate"><span class="pre">+,</span> <span class="pre">-,</span> <span class="pre">+=,</span> <span class="pre">-=,</span> <span class="pre">*=</span></code>)</p>
<p>Here we form <span class="math notranslate nohighlight">\(\vec{z}=\vec{v}+\vec{w}\)</span></p>
<p>Then we compute <span class="math notranslate nohighlight">\(\|z\|_2\)</span> (the default <cite>norm</cite> is nrm2, but you
can use <cite>.norm(‘nrm1’)</cite> or <cite>.norm(‘nrminf’)</cite> for different normals.
See <cite>help(z.norm)</cite> for additional details.</p>
<p>APDLMath Commands:
- <cite>*VEC,Z,D,COPY,V</cite>
- <cite>*AXPY,1,,W,1,,Z</cite>
- <cite>*NRM,Z,,nrmval</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">v</span> <span class="o">+</span> <span class="n">w</span>
<span class="n">z</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>3.7001650749377593
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>Alternatively you can use methods, following the numpy
standards. Available methods are:</p>
<ul class="simple">
<li><p><cite>mm.add()</cite></p></li>
<li><p><cite>mm.subtract()</cite></p></li>
<li><p><cite>mm.dot()</cite></p></li>
</ul>
<p>Equivalent operator:
<cite>z = v + w</cite></p>
<p>Equivalent APDLMath Commands:
- <cite>*VEC,Z,D,COPY,V</cite>
- <cite>*AXPY,1,,W,1,,Z</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="n">z</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>3.7001650749377593
</pre></div>
</div>
<p>Subtraction</p>
<p>Equivalent operator:
z = v - w</p>
<p>Equivalent APDLMath Commands:
- <cite>*VEC,Z,D,COPY,V</cite>
- <cite>*AXPY,-1,,W,1,,Z</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>PMTRUY :
 Size : 5
  5.830e-01   2.815e-03   2.797e-01   6.744e-02   9.999e-01      &lt;       5
</pre></div>
</div>
<p>Dot product of 2 vectors</p>
<p>Equivalent APDLMath Command: <cite>*DOT,V,W,dotval</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vw</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dot product :&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">vw</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Dot product : 3.0672030387213454
</pre></div>
</div>
</div>
<div class="section" id="perform-an-in-place-operations-without-copying-vectors">
<h2>Perform an in-place operations (without copying vectors)<a class="headerlink" href="#perform-an-in-place-operations-without-copying-vectors" title="Permalink to this headline">¶</a></h2>
<p>In-Place Addition</p>
<p>MAPDL Commands:
- <cite>*AXPY,1,,V,1,,Z</cite>
- <cite>*PRINT,Z</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">+=</span> <span class="n">v</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>FTAYYI :
 Size : 5
  2.000e+00   2.000e+00   2.000e+00   2.000e+00   2.000e+00      &lt;       5
</pre></div>
</div>
<p>In-Place Multiplication</p>
<p>MAPDL Command: <cite>*SCAL,v,2</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>FTAYYI :
 Size : 5
  4.000e+00   4.000e+00   4.000e+00   4.000e+00   4.000e+00      &lt;       5
</pre></div>
</div>
<p>In-Place Multiplication</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">/=</span> <span class="mf">2.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>FTAYYI :
 Size : 5
  2.000e+00   2.000e+00   2.000e+00   2.000e+00   2.000e+00      &lt;       5
</pre></div>
</div>
</div>
<div class="section" id="working-with-dense-matrices">
<h2>Working with Dense Matrices<a class="headerlink" href="#working-with-dense-matrices" title="Permalink to this headline">¶</a></h2>
<p>Allocate two dense matrices with random values.</p>
<p>MAPDL Commands:</p>
<ul class="simple">
<li><p><cite>*DMAT,m1,D,ALLOC,4,5</cite></p></li>
<li><p><cite>*INIT,m1,RAND</cite></p></li>
<li><p><cite>*DMAT,m1,D,ALLOC,4,5</cite></p></li>
<li><p><cite>*INIT,m1,CONST,1</cite></p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m1</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">m1</span><span class="p">,</span> <span class="n">m2</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>(Dense APDLMath Matrix (4, 5), Dense APDLMath Matrix (4, 5))
</pre></div>
</div>
<p><strong>Add</strong> these 2 dense matrices, and <strong>scale</strong> the result matrix.</p>
<p>Mapdl Commands
- <cite>*DMAT,m3,D,COPY,m1</cite>
- <cite>*AXPY,1,,m2,1,,m3</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m3</span> <span class="o">=</span> <span class="n">m1</span> <span class="o">+</span> <span class="n">m2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="p">)</span>

<span class="n">m3</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>NEYHHK:
 [1,1]: 1.417e+00 [1,2]: 1.000e+00 [1,3]: 1.147e+00 [1,4]: 1.186e+00 [1,5]: 1.397e+00
 [2,1]: 1.997e+00 [2,2]: 1.128e+00 [2,3]: 1.236e+00 [2,4]: 1.388e+00 [2,5]: 1.936e+00
 [3,1]: 1.720e+00 [3,2]: 1.302e+00 [3,3]: 1.092e+00 [3,4]: 1.346e+00 [3,5]: 1.539e+00
 [4,1]: 1.933e+00 [4,2]: 1.999e+00 [4,3]: 1.397e+00 [4,4]: 1.670e+00 [4,5]: 1.846e+00
NEYHHK:
 [1,1]: 2.834e+00 [1,2]: 2.000e+00 [1,3]: 2.294e+00 [1,4]: 2.373e+00 [1,5]: 2.794e+00
 [2,1]: 3.994e+00 [2,2]: 2.256e+00 [2,3]: 2.472e+00 [2,4]: 2.776e+00 [2,5]: 3.871e+00
 [3,1]: 3.441e+00 [3,2]: 2.605e+00 [3,3]: 2.185e+00 [3,4]: 2.691e+00 [3,5]: 3.078e+00
 [4,1]: 3.865e+00 [4,2]: 3.998e+00 [4,3]: 2.793e+00 [4,4]: 3.339e+00 [4,5]: 3.693e+00
</pre></div>
</div>
<p><strong>*Transpose*</strong> a Matrix</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m4</span> <span class="o">=</span> <span class="n">m3</span><span class="o">.</span><span class="n">T</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m4</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>NGQLUG:
 [1,1]: 2.834e+00 [1,2]: 3.994e+00 [1,3]: 3.441e+00 [1,4]: 3.865e+00
 [2,1]: 2.000e+00 [2,2]: 2.256e+00 [2,3]: 2.605e+00 [2,4]: 3.998e+00
 [3,1]: 2.294e+00 [3,2]: 2.472e+00 [3,3]: 2.185e+00 [3,4]: 2.793e+00
 [4,1]: 2.373e+00 [4,2]: 2.776e+00 [4,3]: 2.691e+00 [4,4]: 3.339e+00
 [5,1]: 2.794e+00 [5,2]: 3.871e+00 [5,3]: 3.078e+00 [5,4]: 3.693e+00
</pre></div>
</div>
<p>As for vectors, methods are also available as an alternative to operators.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m3</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>EOQPAH:
 [1,1]: 1.417e+00 [1,2]: 1.000e+00 [1,3]: 1.147e+00 [1,4]: 1.186e+00 [1,5]: 1.397e+00
 [2,1]: 1.997e+00 [2,2]: 1.128e+00 [2,3]: 1.236e+00 [2,4]: 1.388e+00 [2,5]: 1.936e+00
 [3,1]: 1.720e+00 [3,2]: 1.302e+00 [3,3]: 1.092e+00 [3,4]: 1.346e+00 [3,5]: 1.539e+00
 [4,1]: 1.933e+00 [4,2]: 1.999e+00 [4,3]: 1.397e+00 [4,4]: 1.670e+00 [4,5]: 1.846e+00
</pre></div>
</div>
<p>Compute a matrix vector multiplication</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mw</span> <span class="o">=</span> <span class="n">m3</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mw</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>LZLTFC:
 [1,1]: 1.536e+01 [1,2]: 1.945e+01 [1,3]: 1.748e+01 [1,4]: 2.180e+01
 [2,1]: 1.945e+01 [2,2]: 2.492e+01 [2,3]: 2.220e+01 [2,4]: 2.746e+01
 [3,1]: 1.748e+01 [3,2]: 2.220e+01 [3,3]: 2.005e+01 [3,4]: 2.508e+01
 [4,1]: 2.180e+01 [4,2]: 2.746e+01 [4,3]: 2.508e+01 [4,4]: 3.176e+01
</pre></div>
</div>
<p>APDLMath matrices can be identified by printing, viewing their types, or with using the <cite>__repr__</cite> method by simply typing out the variable</p>
</div>
<div class="section" id="apdlmath-matrix">
<h2>APDLMath Matrix<a class="headerlink" href="#apdlmath-matrix" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="n">m1</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>WVMCRD:
 [1,1]: 4.170e-01 [1,2]: 1.144e-04 [1,3]: 1.468e-01 [1,4]: 1.863e-01 [1,5]: 3.968e-01
 [2,1]: 9.972e-01 [2,2]: 1.281e-01 [2,3]: 2.361e-01 [2,4]: 3.879e-01 [2,5]: 9.355e-01
 [3,1]: 7.203e-01 [3,2]: 3.023e-01 [3,3]: 9.234e-02 [3,4]: 3.456e-01 [3,5]: 5.388e-01
 [4,1]: 9.326e-01 [4,2]: 9.990e-01 [4,3]: 3.966e-01 [4,4]: 6.697e-01 [4,5]: 8.463e-01

Dense APDLMath Matrix (4, 5)
</pre></div>
</div>
<p>APDLMath Vector</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="n">w</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>UTHKWO :
 Size : 5
  4.170e-01   9.972e-01   7.203e-01   9.326e-01   1.144e-04      &lt;       5

APDLMath Vector Size 5
</pre></div>
</div>
</div>
<div class="section" id="numpy-methods-on-apdlmath-objects">
<h2>Numpy methods on APDLMath objects<a class="headerlink" href="#numpy-methods-on-apdlmath-objects" title="Permalink to this headline">¶</a></h2>
<p>Regardless of the underlying APDLMath object type, you are generally
able to perform most numpy or scipy operations on these arrays.  You
can do this one of two ways.  First, you can convert a matrix to a numpy array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apdl_mat</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">np_mat</span> <span class="o">=</span> <span class="n">apdl_mat</span><span class="o">.</span><span class="n">asarray</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_mat</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[[4.17021999e-01 1.28124448e-01 9.23385957e-02 6.69746040e-01
  4.19194519e-01]
 [9.97184808e-01 3.02332568e-01 3.96580726e-01 3.96767469e-01
  3.13273513e-01]
 [7.20324489e-01 9.99040516e-01 1.86260211e-01 9.35539073e-01
  6.85219501e-01]
 [9.32557361e-01 1.46755893e-01 3.87910740e-01 5.38816732e-01
  5.24548163e-01]
 [1.14381197e-04 2.36088976e-01 3.45560725e-01 8.46310918e-01
  2.04452249e-01]]
</pre></div>
</div>
<p>Alternatively, you can simply use numpy to compute the max of the array</p>
<p>This works because PyMAPDL copies over the matrix to the local
python memory and then computes the max using numpy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">apdl_mat</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>0.9990405155112967
</pre></div>
</div>
<p>This works for most numpy operations, but keep in mind that
operations that are supported within MAPDL (such as adding or
multiplying arrays) will compute much faster as the data is not copied.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apdl_arr</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">np_array</span> <span class="o">=</span> <span class="n">apdl_mat</span><span class="o">.</span><span class="n">asarray</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">apdl_mat</span><span class="p">,</span> <span class="n">np_array</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.136 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-01-apdlmath-examples-basic-operations-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/aafee0bfa150fcd5f8bb92a50be1b453/basic_operations.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">basic_operations.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/9501df668cad595955056d996d5004fa/basic_operations.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">basic_operations.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../00-mapdl-examples/transient_thermal.html" title="previous page">Example Thermal Transient Analysis</a>
    <a class='right-next' id="next-link" href="eigen_solve.html" title="next page">Using APDLMath to solve Eigenproblems</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020, ANSYS.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.4.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>